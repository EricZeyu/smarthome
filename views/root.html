<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"> 
	<title><%= title %></title>
	<link rel="stylesheet" href="stylesheets/style.css">
	<link rel="stylesheet" href="libs/bootstrap-3.3.6/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="libs/bootstrap-table-master/dist/bootstrap-table.min.css">
</head>
<body>

<div class="jumbotron" style="background: Beige">
  	<h1>Welcome, <%= name %>.</h1>
  	<div class="input-group" style="float: right;">
  		<form class="navbar-form navbar-left" role="search" action="/logout" method="POST">
		  	<button type="submit" class="btn btn-default">LogOut</button>
		</form>
	</div>
</div>

<ul class="nav nav-pills">
  	<li role="presentation" class="active"><a href="#">Gateways</a></li>
  	<li role="presentation"><a href="#">Users</a></li>
  	<li role="presentation"><a href="#">Messages</a></li>
</ul>

<table id="table"
       	data-toggle="table"
       	data-height="400"
        data-toolbar="#toolbar"
		data-sort-name="IP"
		data-sort-order="asc"
		>
		<thead>
            <tr>
                <th data-field="IP" data-sortable="true">IP</th>
                <th data-field="port" data-sortable="true">port</th>
                <th data-field="Owner" data-sortable="true">Owner</th>
            </tr>
		</thead>
</table>

	<script src="libs/jquery-2.2.4/dist/jquery.min.js"></script>
	<script src="libs/bootstrap-3.3.6/dist/js/bootstrap.min.js"></script>
	<script src="libs/bootstrap-table-master/dist/bootstrap-table.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script>
		
		$(document).ready(function(){

			var socket = io.connect();
			socket.emit('Start_Info', {info : 'Gateways'});

			socket.on('Gateways', (Gateways) => {
				
				console.log(Gateways);

				// $("#table").bootstrapTable('load', Gateways);
				$("#table").bootstrapTable('load', JSON.parse(Gateways));
			});

		});

		$(document).unload(function(){
			socket.emit('End_Info', {info : 'Gateways'});
		});

	</script>
</body>
</html>