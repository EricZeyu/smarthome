<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"> 
	<title><%= title %></title>
	<link rel="stylesheet" href="stylesheets/style.css">
	<link rel="stylesheet" href="libs/bootstrap-3.3.6/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="libs/bootstrap-table-master/dist/bootstrap-table.min.css">
</head>
<body>

<div class="jumbotron" style="background: Beige">
  	<h1>Welcome, <%= name %>.</h1>
  	<div class="input-group" style="float: right;">
  		<form class="navbar-form navbar-left" role="search" action="/logout" method="POST">
		  	<button type="submit" class="btn btn-default">LogOut</button>
		</form>
	</div>
</div>

<ul class="nav nav-pills">
  	<li role="presentation" class="active"><a href="#">Homes</a></li>
  	<li role="presentation"><a href="#">Users</a></li>
  	<li role="presentation"><a href="#">Gateways</a></li>
</ul>

<table id="table"
       	data-toggle="table"
       	data-height="400"
        data-toolbar="#toolbar"
		data-sort-name="home"
		data-sort-order="asc"
		>
		<thead>
            <tr>
                <th data-field="home" data-sortable="true">Home</th>
                <th data-field="location" data-sortable="true">location</th>
                <th data-field="owner" data-sortable="true">Owner</th>
                <th data-field="mail" data-sortable="true">Mail</th>
                <th data-field="tel" data-sortable="true">Tel</th>
            </tr>
		</thead>
</table>

	<script src="libs/jquery-2.2.4/dist/jquery.min.js"></script>
	<script src="libs/bootstrap-3.3.6/dist/js/bootstrap.min.js"></script>
	<script src="libs/bootstrap-table-master/dist/bootstrap-table.min.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script>
		
		$(document).ready(function(){
			var socket = io.connect();
			socket.emit('get', 'homes');
			socket.on('homes', (homes)=>{
				console.log(homes);
				$("#table").bootstrapTable('load', JSON.parse(homes));
			});
			socket.on('users', (users)=>{});
			socket.on('gateways', (gateways)=>{});
			// var socket = io.connect();
			// socket.emit('Start_Info', {info : 'Gateways'});

			// socket.on('Gateways', (Gateways) => {
				
			// 	console.log(Gateways);

			// 	// $("#table").bootstrapTable('load', Gateways);
			// 	$("#table").bootstrapTable('load', JSON.parse(Gateways));
			// });

		});

		$(document).unload(function(){
			// socket.emit('End_Info', {info : 'Gateways'});
		});

	</script>
</body>
</html>